=== Aggregate

[[architecture:AggregateRepository]]
[source,cypher,role=constraint,requiresConcepts="java-ddd:Aggregate*,java-ddd:Repository*"]
.Repositorys dÃ¼rfen nur Aggregate ausliefern.
----
MATCH
    (repo:DDD:Repository)-[:DECLARES]->(:Method)-[:RETURNS]->(t:Type)
WHERE
    NOT t:DDD:AggregateRoot
        AND NOT t.fqn = "java.util.List"
        AND NOT t.fqn = "java.util.Optional"
        AND NOT t.fqn = "boolean"
        AND NOT t.fqn = "void"
RETURN
    repo.fqn as Repository, t.fqn as IllegalReturnType
----